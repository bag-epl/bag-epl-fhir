# CH EPL (R5)
FHIRÂ® Implementation Guide for the 'Elektronische Plattform Leistungen (EPL)' of the Swiss Federal Office of Public Health (FOPH).

* [Current Stable Version](https://fhir.ch/ig/ch-epl/index.html)
* [CI Build](https://build.fhir.org/ig/bag-epl/bag-epl-fhir/branches/master/index.html)

***************************

# Setup your computer to work with an implementation guide

## Editor: Visual Studio Code (VSC)
* Install the editor Visual Studio Code as described [here](https://code.visualstudio.com/docs/setup/setup-overview)

### VSC Extensions
* Install the extension **FHIR tools** (yannick-lagger.vscode-fhir-tools)
  * Go to **extensions** in the activity bar on the right side of VSC (shown as 4 squares)
  * Search for this extension using the search field at the top left: *yannick-lagger.vscode-fhir-tools*
  * Then install it

* Install the extension **vscode-language-fsh** (kmahalingam.vscode-language-fsh)
  * Installation as described above

## Java
* Install Java as described [here](https://www.java.com/en/download/help/download_options.html)
   * Java 17 (Java 8 not longer supported, see [here](https://chat.fhir.org/#narrow/stream/179294-committers.2Fannounce/topic/Java.208.20no.20longer.20supported))

## Jekyll
* Installation: https://jekyllrb.com/ (see [Jekyll on Windows](http://jekyll-windows.juthilo.com/2-jekyll-gem/) for windows users)

## SUSHI (and Node.js)
* Install SUSHI (and Node.js) as described [here](https://fshschool.org/docs/sushi/installation/)

## Git
* Install Git as described [here](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git)

## GitHub
* Create a GitHub account as described [here](https://git-scm.com/book/en/v2/GitHub-Account-Setup-and-Configuration)
* You should definitely set up two-factor authentication as it is described there in the lowest section

***************************

# Get the implementation guide running 
## Get the existing git repository
* If you haven't already done so, create a local *GitHub* folder on your computer (e.g. `C:\Users\username\Documents\GitHub`).
* Open a terminal in VSC (Terminal > New Terminal)
* Navigate to the local *GitHub* folder in the terminal (`cd .\Documents\`, `cd .\GitHub\`)
* Then clone the repository via the terminal: `git clone https://github.com/bag-epl/bag-epl-fhir.git`
* Open the folder of the repository in VSC (File > Open Folder...)
* Navigate to this repository in the therminal (`cd .\bag-epl-fhir\ `)

## Install the FHIR IG publisher
* In VSC press *F1* or *Ctrl+Shift+P*
* Type following command in the field: *FHIR update Java Validator and IGPublisher*

## Building the IG
* Option A:
   * See also instructions for [installing the IG publisher](#install-the-fhir-ig-publisher)
   * In VSC press *F1* or *Ctrl+Shift+P*
   * Type following command in the field: *FHIR run IGPublisher*
   * Copy the link from the result in your terminal in a web browser (`file:///C:/Users/username/Documents/GitHub/bag-epl-fhir/qa.html`)
   * Change `qa.html` to `index.html` and see your IG!
* Option B:   
   * Get the latest IG publisher from https://github.com/HL7/fhir-ig-publisher/releases/latest/download/publisher.jar. 
      * Make sure you are always working with the lastest publisher 
   * Put the publisher.jar in the main directory.
   * A local build of the IG can be generated by running `JAVA -jar publisher.jar -ig ig.ini` at the command line.
* See the output:
   * Validation results (QA): .\bag-epl-fhir\output\qa.html (link is displayed in the command line)
   * Implementation guide: .\bag-epl-fhir\output\index.html (replace qa with index)

## FHIR Implementation Guide Auto-Builder
For further information see [here](https://github.com/FHIR/auto-ig-builder#fhir-implementation-guide-auto-builder).

## Publish the IG
For further information see [here](https://github.com/ahdis/k8s-fhir.ch#publish-an-implementation-guide-ch-xyz-with-a-version-eg-010).

***************************

# Further links
* Further supporting information on FSH:
   * [Documentation of the FHIR Shorthand language standard](http://hl7.org/fhir/uv/shorthand/)
   * [FSH School](https://fshschool.org/): The place to learn and try FHIR Shorthand!
   * [FSH Cheat Sheet](http://build.fhir.org/ig/HL7/fhir-shorthand/FSHQuickReference.pdf)
* [IG Publisher Documentation](https://confluence.hl7.org/display/FHIR/IG+Publisher+Documentation)
* [Using the FHIR Validator](https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator)
* FHIR Chat [Zulip](chat.fhir.org)
  * Create a free account
  * Use different streams for help/information: #implementers, #IG creation, #committers/notification, #shorthand, #terminology, #switzerland, and more...
